@import '../../Shared/styles/variables.less';
@import '../../Shared/styles/mixins.less';

@timerSize: 20px;

.orion-notif {
	position: fixed;
	z-index: @zIndexOrionNotif;
	bottom: 2rem;
	right: 2rem;
	width: 20rem;
	min-height: 4rem;
	display: flex;
	align-items: center;
	background: var(--background-neutral-default);
	border-radius: var(--radius-4);
	padding: var(--space-sm) var(--space-lg) var(--space-sm)
		var(--space-lg);
	font-size: 0.75rem;
	color: var(--text-default-default);
	border-left: calc(3rem / 16) solid var(--background-neutral-moderate);
	box-shadow: 0 0.5rem 0.5rem fade(black, 8), 0 1rem 1rem fade(black, 8),
		0 2rem 2rem fade(black, 8), 0 3rem 3rem fade(black, 8),
		0 4rem 4rem fade(black, 8);
	backface-visibility: hidden;

	&__content {
		flex: 1 0 0%;
	}

	&__title {
		margin: 0;
		padding: var(--space-xs) 0;
		color: var(--text-default-default);
	}

	&__message {
		margin-bottom: calc(3rem / 16);
	}

	&__icon {
		font-size: 1.5rem;
		margin-right: 1.25rem;
	}

	&__timer {
		.circle(@timerSize);
		.flex-align();
		position: absolute;
		top: 0.75rem;
		right: 0.5rem;
		font-size: 0.75rem;
		color: var(--text-neutral-moderate);
		cursor: pointer;

		&-circle {
			.circle(@timerSize);
			animation: rotate 1s infinite linear;
			position: absolute;
			top: 0;
			left: 0;
			border: calc(1rem / 16) solid var(--background-neutral-moderate);
			border-right-color: transparent !important;
			border-left-color: transparent !important;
			border-bottom-color: transparent !important;

			.orion-notif--info & {
				border-color: var(--border-info-default);
			}

			.orion-notif--success & {
				border-color: var(--border-success-default);
			}

			.orion-notif--warning & {
				border-color: var(--border-warning-default);
			}

			.orion-notif--danger & {
				border-color: var(--border-error-default);
			}
		}

		&-progress {
			position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			width: 100%;
			pointer-events: none;

			&--animated {
				animation-name: scaleXtoZero;
				animation-timing-function: linear;
				animation-fill-mode: forwards;
				transform-origin: left;
			}

			.orion-notif--info & {
				background-color: rgba(var(--background-info-default), 0.05);
			}

			.orion-notif--success & {
				background-color: rgba(var(--background-success-default), 0.05);
			}

			.orion-notif--warning & {
				background-color: rgba(var(--background-warning-default), 0.075);
			}

			.orion-notif--danger & {
				background-color: rgba(var(--background-danger-default), 0.075);
			}
		}

		.orion-notif--info & {
			border-color: var(--border-info-default);
			color: var(--text-info-default);
		}

		.orion-notif--success & {
			border-color: var(--border-success-default);
			color: var(--text-success-default);
		}

		.orion-notif--warning & {
			border-color: var(--border-warning-default);
			color: var(--text-warning-default);
		}

		.orion-notif--danger & {
			border-color: var(--border-error-default);
			color: var(--text-error-default);
		}
	}

	&__close {
		.close(1rem);
		position: absolute;
		top: 0.5rem;
		right: 0.5rem;
	}

	&--info {
		border-color: var(--border-info-default);

		.orion-notif__icon {
			color: var(--text-info-default);
		}
	}

	&--success {
		border-color: var(--border-success-default);

		.orion-notif__icon {
			color: var(--text-success-default);
		}
	}

	&--warning {
		border-color: var(--border-warning-default);

		.orion-notif__icon {
			color: var(--text-warning-default);
		}
	}

	&--danger {
		border-color: var(--border-error-default);

		.orion-notif__icon {
			color: var(--text-error-default);
		}
	}
}
