@import '../../Shared/styles/variables.less';
@import '../../Shared/styles/mixins.less';

@markerSize: 0.5rem;
@markerNumberSize: 1rem;

.markerPosition(@size) {
	&.orion-icon__marker {
		&--top,
		&--bottom {
			&.orion-icon__marker--right {
				left: unset;
				right: calc(0px - @size / 2);
			}

			&.orion-icon__marker--left {
				left: calc(0px - @size / 2);
			}
		}

		&--top {
			top: calc(0px - @size / 2);
			left: calc(50% - @size / 2);
		}

		&--bottom {
			bottom: calc(0px - @size / 2);
			left: calc(50% - @size / 2);
		}

		&--right:not(.orion-icon__marker--top):not(.orion-icon__marker--bottom) {
			right: calc(0px - @size / 2);
			top: calc(50% - @size / 2);
		}

		&--left:not(.orion-icon__marker--top):not(.orion-icon__marker--bottom) {
			left: calc(0px - @size / 2);
			top: calc(50% - @size / 2);
		}
	}
}

.orion-icon {
	position: relative;
	aspect-ratio: 1;
	font-size: var(--o-typography-size-base);
	width: 1em;
	height: 1em;

	.material-symbols-outlined {
		font-family: 'Material Symbols Outlined';
	}

	.material-symbols-round {
		font-family: 'Material Symbols Round';
	}

	.material-symbols-sharp {
		font-family: 'Material Symbols Sharp';
	}

	.material-symbols-outlined,
	.material-symbols-round,
	.material-symbols-sharp {
		z-index: 2;
		position: absolute;
		font-size: inherit;
	}

	&::before {
		position: relative;
		z-index: 1;
	}

	&__loading {
		display: block;
		stroke: var(--o-border-neutral-default);
		animation: rotate 1.7s linear 0s infinite;

		&-inner {
			animation: rotate 1s linear 0s infinite reverse;
			transform-origin: center;
		}
	}

	&__marker {
		.marker();
		.markerPosition(@markerSize);
		z-index: 2;

		&--number {
			.markerNumber();
			.markerPosition(@markerNumberSize);
		}

		&--clickable {
			transition: transform 0.3s;
			cursor: pointer;

			&:hover {
				transform: scale(1.2);
			}
		}
	}

	&--ripple {
		.orion-icon__ripple,
		.orion-icon__ripple > .ripple__wave {
			display: block;
			position: absolute;
			z-index: 0;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			border-radius: 100%;
		}

		.orion-icon__ripple {
			transition: background 0.3s;
			transform: scale(1.8);
		}

		.orion-icon__ripple > .ripple__wave {
			opacity: 0;
			pointer-events: none;
		}

		&-default {
			&:hover {
				color: var(--o-text-default-default);
			}

			&:hover .orion-icon__ripple,
			.orion-icon__ripple > .ripple__wave {
				background: rgba(var(--o-background-neutral-moderate), 0.2);
			}
		}

		each(@colors, {
			&-@{value} {
				&:hover {
					color: var(~"--o-text-@{value}-default");
				}

				&:hover .orion-icon__ripple, .orion-icon__ripple > .ripple__wave {
					background: color-mix(in oklab, var(~"--o-background-@{value}-default") 15%, transparent);
				}
			}
		});
	}

	&--button {
		.flex-align();

		&::before {
			position: absolute;
		}

		.orion-icon__button {
			.circle(1.8em);
			transition:
				box-shadow 0.3s,
				background 0.3s;
			z-index: 0;
			display: block;
		}

		&-default {
			color: var(--o-text-default-default);

			> .orion-icon__button {
				background: var(--o-background-neutral-default);
				box-shadow: 0 0.3rem 1rem -0.3rem fade(black, 20);
			}
		}

		each(@colors, {
		@bg: ~"--o-background-@{value}-default";
		@shadow: ~"--o-background-@{value}-moderate";

		&-@{value} {
			color: #ffffff;

			> .orion-icon__button {
				background: var(@bg);
				box-shadow: 0 0.125rem 0.3rem -0.125rem color-mix(in srgb, var(@shadow) 40%, transparent);
			}
		}
	});

		&-neutral {
			color: var(--o-text-default-default);
		}

		&:hover > .orion-icon__button {
			box-shadow: none;
		}
	}

	&--clickable {
		cursor: pointer;
	}
}

@keyframes OrionIconCircle {
	0% {
		transform: scale(1.8);
	}

	50% {
		transform: scale(2);
	}

	100% {
		transform: scale(1.8);
	}
}

@keyframes OrionIconCircleAfter {
	0% {
		opacity: 1;
		transform: scale(0.2);
	}

	100% {
		opacity: 0;
		transform: scale(1);
	}
}



