@import '../../Shared/styles/variables.less';
@import '../../Shared/styles/mixins.less';

.orion-chips {
	.ellipsis();
	position: relative;
	display: inline-flex;
	align-items: center;
	max-width: 100%;
	font-weight: 600;
	border-radius: var(--radius-round);
	white-space: nowrap;
	border: 1px solid transparent;
	
	&--squared {
		border-radius: var(--radius-md);
	}

	&__close {
		position: absolute;
		right: calc(3rem / 16);

		&:hover {
			opacity: 1;
			color: var(--text-default-inverted) !important;
			border-color: var(--border-neutral-inverted);
		}
	}

	&__main,
	&__dual {
		display: flex;
		align-items: center;
		height: 100%;
		gap: var(--spacing-8);
	}

	&__dual {
		background: var(--background-neutral-default);
	}

	&__icon {
		font-size: var(--typography-size-base);
	}

	each(@colorsAndGreys, {
		&--@{value} {
			color: white;
			background: var(~"--background-@{value}-default");

			.orion-chips__dual {
				color: var(~"--text-@{value}-default");
			}

			&.orion-chips--outline,
			&.orion-chips--dual {
				.orion-chips__close {
					color: var(~"--text-@{value}-default") !important;

					&:hover {
						border-color: var(~"--border-@{value}-default") !important;
					}
				}
			}

			&.orion-chips--nude {
				.orion-chips__close {
					color: var(~"--text-@{value}-default") !important;
					border-color: var(~"--border-@{value}-default") !important;
				}
			}

			&.orion-chips--outline {
				color: var(~"--text-@{value}-default");
				background: var(~"--background-@{value}-minimal");
				border: 1px solid var(~"--border-@{value}-subtle");

				.orion-chips__dual {
					color: var(~"--text-@{value}-default");
					border-left: 1px solid var(~"--border-@{value}-subtle");
				}
			}

			&.orion-chips--nude {
				border: 1px solid var(~"--border-@{value}-subtle");
				background: var(--background-neutral-transparent);
				color: var(~"--text-@{value}-default");
			}

			&-alt {
				color: var(--text-default-inverted);
				background: var(~"--background-@{value}-alt");
				border-color: transparent;

				.orion-chips__dual {
					color: var(~"--text-@{value}-alt");
				}

				&.orion-chips--outline,
				&.orion-chips--dual {
					.orion-chips__close {
						color: var(~"--text-@{value}-alt") !important;

						&:hover {
							border-color: var(~"--border-@{value}-alt") !important;
						}
					}
				}

				&.orion-chips--outline {
					color: var(~"--text-@{value}-alt");
					background: color-mix(in oklab, var(~"--background-@{value}-alt") 15%, transparent);
					border: 1px solid var(~"--border-@{value}-subtle");

					&:not(.orion-chips--inverse):not(.orion-chips--default) > {
						.orion-chips__main, .orion-chips__dual-content {
							filter: saturate(90%);
						}
					}

					.orion-chips__dual {
						color: var(~"--text-@{value}-alt");
					}
				}
			}
		}
	});

	&--neutral {
		color: var(--text-inverted-default);
		background: var(--background-neutral-subtle);
		border: 1px solid var(--border-neutral-subtle);
	}

	&--grey-light,
	&--grey-lighter {
		color: var(--text-default-inverted);
	}

	&[class*='--grey'] {
		&.orion-chips--outline {
			color: var(--text-default-default);
			background: var(--background-neutral-minimal);
			border-color: var(--border-neutral-default);
		}
	}

	&--xs {
		@paddingClose: 1.25rem;
		height: 1rem;
		font-size: var(--typography-size-xs);

		.orion-chips {
			&__main,
			&__dual {
					padding: 0 var(--spacing-4)
			}

			&__icon {
				font-size: var(--typography-size-sm)
			}

			&__close {
				.close(var(--typography-size-sm));
			}
		}

		&.orion-chips--closable {
			&:not(.orion-chips--dual) {
				.orion-chips__main {
					padding-right: @paddingClose;
				}
			}

			&.orion-chips--dual {
				.orion-chips__dual {
					padding-right: @paddingClose;
				}
			}
		}
	}

	&--sm {
		@paddingClose: calc(22rem / 16);
		height: 1.25rem;
		font-size: 0.75rem;

		.orion-chips {
			&__main,
			&__dual {
				padding: 0 var(--spacing-8)
			}

			&__icon {
				font-size: var(--typography-size-sm)
			}

			&__close {
				.close(var(--typography-size-sm));
			}
		}

		&.orion-chips--closable {
			&:not(.orion-chips--dual) {
				.orion-chips__main {
					padding-right: @paddingClose;
				}
			}

			&.orion-chips--dual {
				.orion-chips__dual {
					padding-right: @paddingClose;
				}
			}
		}
	}

	&--md {
		@paddingClose: calc(24rem / 16);
		height: 1.5rem;
		font-size: var(--typography-size-sm);

		.orion-chips {
			&__main {
				padding: var(--spacing-2) var(--spacing-8)
			}

			&__dual {
				padding: 0 var(--spacing-8)
			}

			&__close {
				.close(var(--typography-size-sm));
			}
		}

		&.orion-chips--closable {
			&:not(.orion-chips--dual) {
				.orion-chips__main {
					padding-right: @paddingClose;
				}
			}

			&.orion-chips--dual {
				.orion-chips__dual {
					padding-right: @paddingClose;
				}
			}
		}
	}

	&--lg {
		@paddingClose: calc(25rem / 16);
		height: calc(28rem / 16);
		font-size: 0.875rem;

		.orion-chips {
			&__main,
			&__dual {
				padding: var(--spacing-2) var(--spacing-12);
				gap: var(--spacing-12)
			}

			&__icon {
				font-size: var(--typography-size-lg)
			}

			&__close {
				.close(var(--typography-size-lg));
			}
		}

		&.orion-chips--closable {
			&:not(.orion-chips--dual) {
				.orion-chips__main {
					padding-right: @paddingClose;
				}
			}

			&.orion-chips--dual {
				.orion-chips__dual {
					padding-right: @paddingClose;
				}
			}
		}
	}

	&--xl {
		@paddingClose: calc(26rem / 16);
		height: 2rem;
		font-size: 0.875rem;

		.orion-chips {
			&__main,
			&__dual {
				padding: var(--spacing-2) var(--spacing-16);
				gap: var(--spacing-16);
			}

			&__icon {
				font-size: var(--typography-size-h5)
			}

			&__close {
				.close(var(--typography-size-lg));
			}
		}

		&.orion-chips--closable {
			&:not(.orion-chips--dual) {
				.orion-chips__main {
					padding-right: @paddingClose;
				}
			}

			&.orion-chips--dual {
				.orion-chips__dual {
					padding-right: @paddingClose;
				}
			}
		}
	}
}