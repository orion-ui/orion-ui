@import '../../Shared/styles/variables.less';
@import '../../Shared/styles/mixins.less';

.orion-avatar {
	display: flex;
	align-items: center;
	gap: var(--spacing-8);

	&__pill {
		transition: all 0.3s;
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		flex: none;
		border-radius: 100%;
		aspect-ratio: 1;

		.orion-avatar--xl & {
			.circle(3.5rem);
		}

		.orion-avatar--lg & {
			.circle(3rem);
		}
		
		.orion-avatar--md & {
			.circle(2.5rem);
		}

		.orion-avatar--sm & {
			.circle(2rem);
		}
		.orion-avatar--xs & {
			.circle(1.5rem);
		}
	}

	&__text {
		display: flex;
		flex-direction: column;
		justify-content: center;

		&-name {
			font-weight: var(--typography-weight-semibold);
		}

		.orion-avatar--xl & {
			&-name {
				font-size: var(--typography-size-lg)
			}

			&-description {
				font-size: var(--typography-body)
			}
		}

		.orion-avatar--lg & {
			font-size: var(--typography-body);
		}

		.orion-avatar--md & {
			font-size: var(--typography-size-sm);
		}

		.orion-avatar--sm & {
			&-name {
				font-size: var(--typography-size-sm)
			}

			&-description {
				font-size: var(--typography-size-xs)
			}
		}

		.orion-avatar--xs & {	
			font-size: var(--typography-size-xs)
		}
	}

	&__image {
		display: block;
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: inherit;
		aspect-ratio: 1;
	}

	&__initial {
		transition: font-size 0.3s;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 100%;
		height: 100%;
		color: 	 var(--text-default-inverted);
		line-height: 1;
		border-radius: inherit;

		.orion-avatar--xl & {
			font-size: var(--typography-h5);
		}

		.orion-avatar--lg & {
			font-size: var(--typography-body-large);
		}

		.orion-avatar--md & {
			font-size: var(--typography-body);
		}

		.orion-avatar--sm & {
			font-size: var(--typography-size-sm);
		}

		.orion-avatar--xs & {
			font-size: var(--typography-size-xs);
		}

		each(@colors, {
			.orion-avatar--@{value} & {
				background:  var(~"--background-@{value}-default");
				border: 1px solid var(~"--border-@{value}-subtle");
			}
		});

		.orion-avatar--default > & {
			background: var(--background-neutral-subtle);
			color: var(--text-default-default);
		}

		.orion-avatar--inverted > & {
			background: var(--background-neutral-highlight);
		}
	}

	&__picto {
		.flex-align();
		transition: transform 0.3s, opacity 0.3s;
		position: absolute;
		bottom: 0;
		right: 0;
		z-index: 2;
		color: var(--text-default-default);
		background: var(--background-neutral-default);
		cursor: pointer;

		.orion-avatar--xl &, .orion-avatar--lg & {
			.orion-icon {
				font-size: 1rem;
			}
		}

		.orion-avatar--md &, .orion-avatar--sm & {
			.orion-icon {
				font-size: 0.75rem;
			}
		}

		.orion-avatar--sm & {
			bottom: calc(var(--spacing-8) * -1);
			right: calc(var(--spacing-8) * -1);
			
			.orion-icon {
				font-size: 0.625rem;
			}
		}

		.orion-avatar--xs & {
			opacity: 0;
		}

		.orion-avatar--xs & {
			.orion-icon {
				font-size: 0.75rem;
			}
			&:hover {
			opacity: 1;
			}
		}

		.orion-avatar--square & {
			transform: translate3d(
				calc(var(--spacing-8) * -1),
				calc(var(--spacing-8) * -1),
				0
			);
		}
	}

	&--xl {
		gap: var(--spacing-8);			
	}

	&--lg {
			gap: var(--spacing-8);
	}

	&--md {
			gap: var(--spacing-6);
	}

	&--8 {
			gap: var(--spacing-6);
	}

	&--xs {
		gap: var(--spacing-4);
	}

	&--square {
		.orion-avatar__pill {
			border-radius: 0;
		}

		.orion-avatar__picto {
			transform: translate3d(
				calc(var(--spacing-8) * 0.5),
				calc(var(--spacing-8) * 0.5),
				0
			);
		}
	}

	&--contain {
		.orion-avatar__image {
			object-fit: contain;
		}
	}
}
